# Senior
## Общие вопросы

1. Опишите основные способы аутентификации в API.

2. Назовите основные принципы построения REST API.

3. Вам нужно спроектировать API. Какие основные вопросы будете задавать клиенту?

4. Каковы основные преимущества и недостатки монолитной архитектуры?

5. Каковы основные преимущества и недостатки микросервисной архитектуры?

6. Что такое SOLID? Какие из принципов, по вашему мнению, чаще всего нарушаются, какие являются наиболее критичными?

7. Опишите Singleton-паттерн. Где и когда вы его использовали?

8. Опишите принцип работы DNS.

9. Что такое code smells? Каковы основные признаки плохого кода?

10. Что такое reverse proxy, для чего он нужен?

11. Что такое load balancer, основные разновидности?

12. Что такое MVC и как не попасть с ним в беду?

13. Опишите процесс обработки HTTP-запроса на примере любого веб-фреймворка Ruby (Rails, Hanami, Sinatra, Roda, etc).

14. Чем отличается refactoring от оптимизации? Как и когда нужно выполнять каждый из этих процессов?

15. Знаете ли вы GraphQL? Какие плюсы и минусы вы видите по сравнению с REST?

16. Что такое multi-tenant architecture? Когда порекомендуете ее использовать?

17. Чем отличается понятие Dependency Inversion от Dependency Injection и от Inversion of Control?

18. Что такое GDPR? Назовите правила, которые использовали, чтобы быть GDPR compliant.

## Метапрограммирование и DSL

19. Параллельное выполнение кода через Thread, Fiber, Ractor. Объясните на примерах.

20. Дизайн-паттерны: Service, Form, Value, Policy, Guard, etc. Объясните на примерах.

21. Расскажите об архитектурных паттернах: Monolith, Microservices, Distributed app, etc.

22. Как организовать бизнес-логику, когда в проекте уже 1000+ бизнес-операций?

23. Что такое Sidekiq? Как правильно организовывать очереди?

24. Расскажите об оптимизации быстродействия через benchmark, lineprof и flamegraph.

25. Работали ли вы с Garbage collector? Расскажите.

26. Расскажите, какими своими решениями гордитесь и почему.

## Ruby / Rails

27. Что такое Thread? Каковы особенности использования тредов в разработке?

28. Что такое Process? Каковы особенности использования процессов в разработке?

29. Что такое Mutex? Приведите примеры использования мютексов в разработке.

30. Если нужно определить, сколько выполняется тот или иной код, как порекомендуете это сделать?

31. Какие недостатки видите в Ruby? Когда и как они могут себя проявить во время разработки?

32. Можно ли передать контекст выполнения одного метода в другой метод? Если да, то как это сделать?

33. Какие callback-и знаете в Ruby?

34. Как реализовать Singlethon-класс Ruby? Опишите базовые концепты.

35. Как работает Garbage collection в Ruby? Опишите базовые концепты.

36. Что такое Ractor? В чем разница между классической моделью работы с тредами и работой с помощью Ractor?

37. Как работают Lazy Enumerators? Чем они отличаются от классических Enumerators? Как и когда они могут помочь?

38. Назовите примеры использования Fiber-ов?

39. Как include добавляет метод модуля в класс? Что происходит на уровне MRI? В чем разница по сравнению с extend и prepend?

40. У вас есть задача импортировать пользователей в базу Rails-приложения. Пользователи записаны в CSV-файле, где каждая строка — это данные. Опишите ваш подход к решению проблемы. Как изменится решение, если файл станет очень большим (> 300000 строк)?

41. Если в модели User у вас есть callback, какие могут возникнуть проблемы при решении предыдущей задачи?

42. Как мы можем отслеживать прогресс Background Job?

43. Опишите жизненный цикл Request — Response в Rails. Через какие основные компоненты фреймворка проходит запрос и для чего они нужны?

44. Какие основные типы тестов используете и с какой целью?

45. Как вы относитесь к интеграционным тестам?

46. Что такое полиморфные ассоциации в ActiveRecord?

47. Как бы вы порекомендовали построить semantic versioning для Rails API, работающего с мобильными приложениями (IOS, Android, Web)? Опишите стратегию на верхнем уровне.

48. Если необходимо, чтобы каждый запрос, пришедший к Rails app независимо от роута, возвращал 403 статус быстрее, как бы вы порекомендовали реализовать код для этой задачи?

49. Какие, по вашему мнению, пять основных минусов Rails? Что бы вы порекомендовали изменить, чтобы нейтрализовать эти минусы?

50. Можно ли в Rails работать с несколькими базами, если да, то как это сделать?

## Базы данных

51. Что такое транзакция? Каковы основные свойства транзакций?

52. Что такое database lock и чем он отличается от транзакций?

53. Что такое Pessimistic и Optimistic locking?

54. У нас есть таблица Users. Мы добавили к ней индекс в трех полях: first_name, last_name, email. Именно в таком порядке.

Теперь делаем запрос

```sql
SELECT * FROM users WHERE first_name = "Alex" AND  email = "<a href="mailto:test@mail.com">test@mail.com</a>"

```
Поможет ли нам индекс ускорить запрос и почему?

55. Что такое Database View? Какие виды?

56. Что такое Database trigger?

57. Что такое партиционирование? Опишите кейсы, когда партиционирование было бы полезным.

58. Верхнеуровнево опишите шаги для реализации партиционирования на примере любой СУБД.

59. Что такое триггеры? Как и когда их можно использовать? Какие плюсы и минусы вы видите в сравнении с тем, чтобы использовать триггеры / колбеки на уровне бэкенда?

60. Что такое WAL? Какую роль он играет?

61. Была ли у вас возможность / необходимость использовать шардинг? Чем отличается шардиг от партиционирования?

62. Опишите принципы, преимущества и недостатки работы с primary / secondary (master / slave) репликацией.

63. Знакомы ли вы с CAP-теоремой? Если да, объясните основную идею.

64. Знаете ли ACID? Как вы понимаете букву «I» в этой аббревиатуре?

65. Представьте ситуацию, когда ваш сервер, на котором размещен redis, по неизвестным причинам перезапустился. Что посоветуете сделать заранее, чтобы такие ситуации не нанесли большой вред?

## Тестирование

66. Знаете ли вы, что такое Load Testing? Чем может помочь разработчик при Load Testing?

67. Какие инструменты используют для того, чтобы собрать как можно больше метрик при Load Testing?

68. Какие подходы вы бы порекомендовали использовать, чтобы ускорить тесты на CI?

69. Как внедрить процесс написания тестов, если на проекте (Rails API) их совсем нет?

## Практические задания

70. Написать реализацию структуры данных Set. Объяснить алгоритмическую сложность добавления элементов к сету.

71. Спроектировать реферальную систему (то есть пользователь может пригласить других пользователей, которые становятся его рефералами, они приглашают своих рефералов, и так формируется древовидная структура). Есть модель:

```rb
class Users < ActiveRecord::Base
end
```

Как бы вы связали ее с рефералами?

72. Добавьте метод:

```rb
class Users < ActiveRecord::Base
end
```

который возвращает рефералы пользователя поуровнево. Например, user имеет рефералы user1, user2. user1 имеет реферала user3, user2 имеет рефералов user4 и user5. Нужно получить результат:

```rb
{ 0 => [user],
      1 => [user1, user2],
      2 => [user3, user4, user5 }
```
