Предисловие


Основная направленность проекта это - обучение, а не проверка знаний.


Разработку лучше вести в Unix системах (под Windows вряд ли что-то получится).


Первое с чего нужно начать это Git.

http://git-scm.com/book (как минимум 3 главы, есть русская версия)

https://learngitbranching.js.org/


Далее нужно установить и использовать менеджер версий руби:

https://rvm.io/

https://github.com/rbenv/rbenv


Нужны базовые понятия Ruby:

https://oz.by/books/more10885079.html - книга.

https://www.tutorialspoint.com/ruby/index.htm - онлайн ресурс последовательно и минималистично описывающий струтуры и синтаксис языка.

Rails:

https://www.softcover.io/read/db8803f7/ruby_on_rails_tutorial_3rd_edition_russian онлайн книга по которой последовательно создается веб приложение(аналог Twitter). Покрывает полностью цикл веб разработки, в процессе вы познакомитесь с Ruby, Rails, html, css, js, ajax, разработка через тестирование, деплой на heroku.

http://guides.rubyonrails.org/ официальные гайды по Rails  

http://rusrails.ru/ - русская версия гайдов

http://railscasts.com/ гайды охватвающие практически все темы существующие в веб разработке, там можно найти гайды как делать различные функциональности. Единственный минус не обновляется уже около 7 лет, но там много фундаментальных вещей.

Описания работы различных функций лучше всего смотреть в официальной документации:

https://apidock.com/rails

https://apidock.com/ruby


http://rubydev.ru/ - блог охватывающий различные темы из разработки с использованием Rails

Описание и документацию по гемам лучше всего смотреть на: https://github.com/


Когда появилось базовое понимание и знания нужно обязательно ознакомиться и применять:

https://github.com/rubocop/ruby-style-guide стайл гайд Ruby

https://github.com/rubocop/rails-style-guide стайл гайд Rails

http://betterspecs.org/  стайл гайды и бест практири Rspec


Если что-то непонятно или не получается не стесняйтесь использовать google / stackoverflow.

Общие требования:

Код должен быть на github
Добавляемый код нужно логически разделять по коммитам(предпочтительно использование pull-requests)
Проект должен быть развернут на heroku
К проекту должна быть подключена CI - https://www.travis-ci.com/ либо любая
другая альтернатива - после каждого пуша должна автоматически запускать
тесты.
Для интерфейса сайта нужно использовать bootstrap https://getbootstrap.com/
У админа должен быть отдельный интерфейс(админка). - самописная или гем на ваше усмотрение.
В качестве базы данных использовать Postgresql
Использовать в проекте https://github.com/rubocop/rubocop запускать и
следовать его рекомендациям.
Должны быть тесты на модели и контроллеры.
Должна быть локализация ru/en
В readme должна быть инструкция по запуску, и доступы к admin / user
Нужно написать seed(seed.rb) с базовым набором данных для работы приложения(администратор, пользователь, объявления и тд)
Использовать для дебага https://github.com/pry/pry - Статья с описанием https://nuancesprog.ru/p/9738/

Рекомендации по гемам:


https://github.com/CanCanCommunity/cancancan(Особое внимание обратить на прописание ability, load_and_authorize_resource) / https://github.com/varvet/pundit - Для ролей и прав доступа

https://github.com/aasm/aasm - Для статусов

https://github.com/rspec/rspec-rails + https://github.com/teamcapybara/capybara + https://github.com/thoughtbot/factory_bot - Для тестов

https://github.com/haml/haml - Для views - вместо erb_html

https://github.com/faker-ruby/faker - Для генерации разных данных - емейлы/ пароли / названия

https://github.com/plataformatec/simple_form - Для более удобного создания форм

https://github.com/kaminari/kaminari / https://github.com/mislav/will_paginate - Для пагинации

https://github.com/ernie/ransack - Для быстрого создания фильтров / поиска / сортировок

https://github.com/heartcombo/devise - Для авторизации/ регистрации пользователей

https://github.com/javan/whenever (cron) https://github.com/jmettraux/rufus-scheduler (ruby) - Для реализации задач выполняющихся по расписанию.

Проект ADS

Проект о рекламе. Надо сделать ресурс, где публикуются объявления пользователей.

Любой пользователь может просмотреть опубликованные объявления.

Зарегистрированные пользователи могут подавать объявления на публикацию. Все

объявления проходят модерацию админом. Также объявления имеют тип, который

создает админ.


Пользователи.

По сути три роли: admin, user, guest

guest - любой незалогиненый пользователь

user - пользователь с ролью user

admin - роль админ

(в будущем новые роли должны легко добавляться. Имеется в виду с помощью

расширения кода)


Guest:

  - видят опубликованные обьявы (с пагинацией)

  - могут открывать опубликованные обьявы на просмотр

  - могут искать их по фильтру

  - могут сортировать


User:

  - все возможности гостя

  - могут также просматривать/изменять (только черновик)/удалять свои объявы

(дополнительно см. объявления)

  - могут изменять свои Имя, Фамилию, пароль и другие поля (здесь смотреть по

логике). Пользователь точно не может изменить себе роль!


Admin

  - все возможности гостя

  - удалять любую объяву

  - добавляет/редактирует пользователя (все его поля, включая роль), удаляет

пользователя

  - создавать новый тип объяв

  - удалять тип объяв если нету не одного обьявления с таким типом

  - НЕ МОЖЕТ создавать или редактировать обьявы (имеется ввиду основные

параметры: текст, тип и тому подобное)


Объявление:

  - Должны принадлежать какому либо типу (типы контролирует админ)

  - могут иметь одну или несколько картинок

  - При добавлении объявления, должна быть возможность на лету добавить/удалить

любое количество картинок

  - имеют цикл жизни:

1. Черновик - когда пользователь только создал. Здесь пользователь может делать с

объявой все что угодно. Она нигде не отображается кроме как самому пользователю.

Может быть переведена пользователем в статус Новая


2. Новая - когда пользователь хочет опубликовать свою рекламу.

Пользователь уже не может ее изменить. Здесь он может ее только удалить (если

решит ее не публиковать).

Данные объявы видит админ в админке и может одобрить или забанить (optional:

добавить причину бана).

Админ может одобрить сразу несколько объяв (optional)

Может быть переведена админом в статус отклонена или одобрена.

Может быть удалена пользователем


3. Отклонена - когда админ по какой-то причине не хочет публиковать данную

рекламу.

Здесь надо подумать: или будет тупик или пользователь может вернуть ее в черновик

и там ее изменить, чтобы в дальнейшем снова отправить на публикацию


4. Одобрена - данная реклама одобрена админом и будет опубликована в ближайшее

время.

Пользователь и здесь может удалить свою рекламу (если решил ее не публиковать)

Объявление будет переведено в статус опубликована автоматически


5. Опубликована - эти объявы показываются на стартовой странице всем

пользователям

Публикация происходит автоматически каждый день в полночь. Публикуются все

одобренные объявы.

Пользователь или админ может ее удалить.


6. Архивная - после публикации объявление снято и помещается в архив.

Объявления, которые провисели в публикации 3 дня снимаются (переходят в архив)

автоматически в 23-50.

Пользователь может перевести ее в черновик для дальнейшего редактирования и

публикации


Ключевые функции:


1) На форме создания объявлений должна быть возможность добавлять либо

удалять картинки. У объявления может быть 1 и более картинок. При

добавлении картинки до отправки формы рядом в формате ~100х100 должен

отображаться предпросмотр загружаемой картинки.


2) Теги:

На главной странице объявления можно фильтровать/искать по названиям

тегов. Админ может создавать и редактировать теги а также удалять теги у

которых нет связанных объявлений. У объявления может быть один и более

тегов, добавляются они пользователем при создании объявления через поле с

автокомплитом.

Автокомплит - это когда в поле вводится несколько первых символов тега и в

выпадающем списке предлагаются варианты тегов начинающихся с этих

символов. При выборе эти теги добавляются в поле.

Примеры можно посмотреть тут:

http://bootstrap-tagsinput.github.io/bootstrap-tagsinput/examples/

https://loopj.com/jquery-tokeninput/

При редактировании обьявления теги должны правильно отображаться в поле через

которое они добавляются.


3) Изменения статусов в интерфейсе администратора(включая отклонение

объявления), должны происходить без перезагрузки страницы, то есть с

помощью ajax. Соответственно если админ одобрил объявление, оно должно

пропасть со страницы без перезагрузки.


4) У пользователей должна быть возможность входа с помощью соц сетей (vk,

twitter, facebook)


5) Использовать для хранения картинок облачное хранилище - например:

https://cloudinary.com/documentation


Эта общая концепция. Если по ходу выполнения будут возникать логические

нестыковки или будет не хватать данных в ТЗ, то можно делать как тебе кажется

наиболее логично для пользователя и для админа - главное, чтобы потом можно было

пояснить почему было сделано именно так.


ЗЫ задание это не жесткое, главное чтобы было логически все правильно. На верстку

сильно внимания не обращай. Не обязательно выполнить все и сразу, можно выделять

отдельные линии логики и внедрять их (возможно задание по времени может занять

много времени. возможно не надо его будет дописывать, если будет видно что все

получается)
